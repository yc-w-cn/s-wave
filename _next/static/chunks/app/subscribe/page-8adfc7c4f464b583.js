(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[731],{4452:function(e,t,n){Promise.resolve().then(n.bind(n,8717))},8717:function(e,t,n){"use strict";n.r(t),n.d(t,{SubscribePage:function(){return m}});var r=n(8754),s=n(1986),a=n(8661),i={src:"/s-wave/_next/static/media/rss.dba44e0c.svg",height:800,width:800,blurWidth:0,blurHeight:0},l=n(2123),c=n(2779),o=n(1564),u=n(3894),d=n.n(u),x=n(8812),f=n(4587),h=n(8312);function p(){let e=(0,f.useRouter)(),[t,n]=(0,l.useState)(o.T4),[u,p]=(0,l.useState)(!1),m=(0,l.useMemo)(()=>!!t.startsWith("https://podcasts.apple.com/"),[t]);return(0,r.jsxs)("div",{className:"relative mt-8 mx-5 bg-white rounded-xl p-5 border flex justify-between overflow-hidden min-h-[200px]",children:[(0,r.jsxs)("div",{className:"relative z-1 flex flex-col items-start gap-3",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-pink-500",children:"添加订阅"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"border border-pink-300 text-xs h-[32px] rounded-l-lg px-2 text-pink-300 flex items-center",children:m?"PODCAST":"RSS FEED"}),(0,r.jsx)("input",{className:"border rounded-r-lg focus:outline-none px-2 min-w-[450px] placeholder:font-light text-xs h-[32px] bg-white",defaultValue:t,onChange:e=>{n(e.currentTarget.value)},placeholder:"输入 RSS 或者 PODCAST 的网址"})]}),(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsx)("button",{className:(0,s.cn)("text-pink-100 bg-pink-500 px-5 rounded-lg text-sm py-1 hover:shadow hover:bg-pink-600","flex flex-row items-center justify-center gap-1"),onClick:async()=>{let n=m?await (0,c.jI)(t):t||"";if(n&&(0,x.j)(n)){let t=await (0,s.by)(n);await d().setItem("FEED_URL_".concat(t),n),e.push("/podcast/".concat(t))}},children:u?(0,r.jsx)(h.$,{text:"正在加载 ..."}):(0,r.jsx)("span",{children:"下一步"})})})]}),(0,r.jsx)(a.default,{src:i,alt:"RSS Image",width:200,className:"absolute right-[-50px] bottom-[-30px] z-0"})]})}function m(){return(0,r.jsx)("div",{className:"w-full h-full overflow-auto scrollbar scrollbar-thumb-gray-200 scrollbar-track-transparent",children:(0,r.jsx)("div",{className:(0,s.cn)("flex flex-col flex-grow justify-start gap-5 overflow-auto max-w-[800px]"),children:(0,r.jsx)(p,{})})})}},2779:function(e,t,n){"use strict";n.d(t,{X5:function(){return r.X},DO:function(){return i},jI:function(){return u}});var r=n(361),s=n(6537),a=n.n(s);async function i(e){let t=new(a());return await t.parseURL((0,r.X)(e))}var l=n(7586),c=n(4599),o=n(9043);async function u(e){var t;return t=(await l.Z.post((0,r.X)("https://www.getrssfeed.com/"),o.Z.stringify({url:e}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data,c.zD(t)("#result-container > a").attr("href")}},8812:function(e,t,n){"use strict";function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e||t?e&&t?(e.endsWith("/")?e.slice(0,-1):e)+"/"+(t.startsWith("/")?t.slice(1):t):(e||"")+(t||""):""}function s(e){try{return new URL(e),!0}catch(e){return!1}}n.d(t,{$:function(){return r},j:function(){return s}})}},function(e){e.O(0,[611,715,934,755,986,271,146,672,744],function(){return e(e.s=4452)}),_N_E=e.O()}]);